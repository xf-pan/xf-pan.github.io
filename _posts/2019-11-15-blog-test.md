---
layout:     post                    # 使用的布局（不需要改）
title:      blog-test               # 标题 
subtitle:   Hello World, Hello Blog #副标题
date:       2019-11-15              # 时间
author:     Xiaofeng                      # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 生活
---

    rm(list = ls())

    library(tidyverse)

    ## -- Attaching packages --------------------------------------------------------- tidyverse 1.2.1 --

    ## v ggplot2 3.2.1     v purrr   0.3.3
    ## v tibble  2.1.3     v dplyr   0.8.3
    ## v tidyr   1.0.0     v stringr 1.4.0
    ## v readr   1.3.1     v forcats 0.4.0

    ## -- Conflicts ------------------------------------------------------------ tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

    library(mlogit)

    ## Loading required package: Formula

    ## Loading required package: zoo

    ## 
    ## Attaching package: 'zoo'

    ## The following objects are masked from 'package:base':
    ## 
    ##     as.Date, as.Date.numeric

    ## Loading required package: lmtest

    library(dicmo)

    ## dicmo 0.1.0 is still BETA sofrware. Please report any bugs.

    ## URL: https://xf-pan.github.io/dicmo/

    ## BugReports: https://github.com/xf-pan/dicmo/issues

    ## E-mail: X.PAN <evan_cools@sina.com>

    data("Game", package = "mlogit")

    data <- as.tibble(Game)

    ## Warning: `as.tibble()` is deprecated, use `as_tibble()` (but mind the new semantics).
    ## This warning is displayed once per session.

    alts <- c("Xbox", "PlayStation", "PSPortable",
              "GameCube", "GameBoy", "PC")

    data <- rename(data,
                   'own:Xbox' = own.Xbox, 'own:PlayStation' = own.PlayStation,
                   'own:PSPortable' = own.PSPortable, 'own:GameCube' = own.GameCube,
                   'own:GameBoy' = own.GameBoy, 'own:PC' = own.PC)

    attrs <- list(attrs_alts = tibble(own = c(1,1,1,1,1,1)),
                  asc = c(1,2,3,4,5,0),
                  context = tibble(hours = c(1,2,3,4,5,0),
                                   age = c(1,2,3,4,5,0)))

    avi <- NULL
    interact <- NULL

    bw <- FALSE
    scale <- TRUE
    interact <- NULL

    attr_coding <- NULL
    attr_level <- NULL

    rank_alts <- TRUE

    res <- X.explode(data = data, alts = alts,
                     attrs = attrs, attr_coding = attr_coding,
                     attr_level = attr_level, interact = interact,
                     bw = bw, scale = scale, rank_alts = rank_alts,
                     avi = NULL, method = "BFGS", estimator = TRUE,
                     param_fixed = NULL, param_start = NULL)

    ## 2019-11-15 18:13:54 - model estimation starts
    ## 2019-11-15 18:13:57 - model estimation ends

    summary(res)

    ## --------------------------------------------------------- 
    ## Model name: exploded logit 
    ## Model estimation starts at: 2019-11-15 18:13:54 
    ## Model estimation ends at: 2019-11-15 18:13:57 
    ## Model estimation method: BFGS maximization with numeric Hessian matrix 
    ## Model diagnosis: successful convergence  
    ## --------------------------------------------------------- 
    ## Initial log-likelihood: -598.712 
    ## Convergent log-likelihood: -511.743 
    ## Rho sqaured: 0.1453 
    ## Adjusted Rho sqaured: 0.1119 
    ## AIC: 1063.487 
    ## BIC: 1149.539 
    ## Sample size: 91 
    ## Number of estimated parameters: 20 
    ## --------------------------------------------------------- 
    ## Estimates: 
    ##                     estimate  std. error  t-value  p-value     
    ## asc.Xbox            3.375518    2.419978   1.3949   0.1631     
    ## asc.PlayStation     1.804330    2.277525   0.7922   0.4282     
    ## asc.PSPortable      2.091612    2.086847   1.0023   0.3162     
    ## asc.GameCube        4.469400    5.393871   0.8286   0.4073     
    ## asc.GameBoy         2.895293    3.240097   0.8936   0.3715     
    ## hours.Xbox         -0.147891    0.058241  -2.5393   0.0111   **
    ## hours.PlayStation  -0.110686    0.054055  -2.0476   0.0406   **
    ## hours.PSPortable   -0.273182    0.086140  -3.1714   0.0015  ***
    ## hours.GameCube     -0.319191    0.136663  -2.3356   0.0195   **
    ## hours.GameBoy      -0.377869    0.151662  -2.4915   0.0127   **
    ## age.Xbox           -0.096667    0.117537  -0.8224   0.4108     
    ## age.PlayStation    -0.043799    0.109510  -0.4000   0.6892     
    ## age.PSPortable     -0.072157    0.101684  -0.7096   0.4779     
    ## age.GameCube       -0.217233    0.258840  -0.8393   0.4013     
    ## age.GameBoy        -0.171883    0.164181  -1.0469   0.2951     
    ## own                 1.523768    0.374608   4.0676   0.0000  ***
    ## scale.2             0.570811    0.185107   3.0837   0.0020  ***
    ## scale.3             0.636972    0.168096   3.7893   0.0002  ***
    ## scale.4             0.265797    0.189705   1.4011   0.1612     
    ## scale.5             0.183028    0.173698   1.0537   0.2920     
    ## ------ 
    ## Signif. codes: *** p < 0.01, ** p < 0.05, * p < 0.1 
    ## ---------------------------------------------------------
